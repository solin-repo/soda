<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class controller</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class controller</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">A controller performs actions based on form submits and querystring parameters.</p>
<p class="description"><p>Typically, a controller will perform one action and then either redirect  the browser to perform a new action or display a view.  You don't have to instantiate a controller yourself. Soda constructs  the appropriate controller based on the controller querystring parameter (or  form post variable).  If there is no 'controller' parameter, Soda will use module name to find a controller.  In case there is no [module_name]_controller either, the Soda controller (this class) will  be instantiated.</p></p>
		<p class="notes">
			Located in <a class="field" href="_class.controller.php.html">/class.controller.php</a> (line <span class="field"><a href="../__filesource/fsource_Soda__class.controller.php.html#a44">44</a></span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																																																																								<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$action" title="details" class="var-name">$action</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$helpers" title="details" class="var-name">$helpers</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$model_name" title="details" class="var-name">$model_name</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$mod_name" title="details" class="var-name">$mod_name</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$redirect" title="details" class="var-name">$redirect</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$user" title="details" class="var-name">$user</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$view" title="details" class="var-name">$view</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																												<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#load_file" title="details" class="method-name">load_file</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$controller_name</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$mod_name</span>)
									</div>
																<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#model_name" title="details" class="method-name">model_name</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$controller_name</span>)
									</div>
																																																																																
												<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$mod_name</span>, <span class="var-type">integer</span>&nbsp;<span class="var-name">$mod_instance_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$action</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#after_action" title="details" class="method-name">after_action</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#base_url" title="details" class="method-name">base_url</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">boolean</span>
										<a href="#check_capability" title="details" class="method-name">check_capability</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$capability_short</span> = <span class="var-default">'edit'</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$model_name</span> = <span class="var-default">false</span>], [<span class="var-type">array</span>&nbsp;<span class="var-name">$user</span> = <span class="var-default">false</span>], <span class="var-type">string</span>&nbsp;<span class="var-name">$capibility_short</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#create_base_url" title="details" class="method-name">create_base_url</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#create_hidden_fields" title="details" class="method-name">create_hidden_fields</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$prefix</span> = <span class="var-default">''</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$no_id</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_messages" title="details" class="method-name">create_messages</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$messages</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#create_querystring" title="details" class="method-name">create_querystring</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$parameter_string</span> = <span class="var-default">''</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#get_url" title="details" class="method-name">get_url</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$parameter_string</span> = <span class="var-default">''</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#get_view" title="details" class="method-name">get_view</a>
											([<span class="var-type">array</span>&nbsp;<span class="var-name">$data_array</span> = <span class="var-default">array()</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$view</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#index" title="details" class="method-name">index</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#load" title="details" class="method-name">load</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$controller_name</span>)
									</div>
																																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#post_to_url_js" title="details" class="method-name">post_to_url_js</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$action</span> = <span class="var-default">'delete'</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#print_message" title="details" class="method-name">print_message</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$message</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$delete</span> = <span class="var-default">true</span>], <span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#redirect_to" title="details" class="method-name">redirect_to</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$action</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span> = <span class="var-default">false</span>], [<span class="var-type">array</span>&nbsp;<span class="var-name">$messages</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#redirect_to_url" title="details" class="method-name">redirect_to_url</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$url</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">$array</span>
										<a href="#remove_collections_from_parameters" title="details" class="method-name">remove_collections_from_parameters</a>
											([<span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span> = <span class="var-default">array()</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#require_login" title="details" class="method-name">require_login</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#set_helpers" title="details" class="method-name">set_helpers</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$helpers</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#start_url" title="details" class="method-name">start_url</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#__call" title="details" class="method-name">__call</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$args</span>)
									</div>
								</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$action" id="$action"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$action</span>
						(line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a48">48</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
	
		
		

</div>
<a name="var$helpers" id="$helpers"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$helpers</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a50">50</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
	
		
		

</div>
<a name="var$model_name" id="$model_name"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$model_name</span>
						(line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a47">47</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
	
		
		

</div>
<a name="var$mod_name" id="$mod_name"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$mod_name</span>
						(line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a46">46</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
	
		
		

</div>
<a name="var$redirect" id="$redirect"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$redirect</span>
			 = <span class="var-default"> false</span>			(line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a51">51</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
	
		
		

</div>
<a name="var$user" id="$user"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$user</span>
						(line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a52">52</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
	
		
		

</div>
<a name="var$view" id="$view"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$view</span>
						(line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a49">49</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodload_file" id="load_file"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static method load_file</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a99">99</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Loads controller class file  Used by class soda to include the controller class.</p>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			load_file
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$controller_name</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$mod_name</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$controller_name</span><span class="var-description">: Name of the controller</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$mod_name</span><span class="var-description">: Name of the Moodle module where the controller resides</span>			</li>
				</ul>
		
			
	</div>
<a name="methodmodel_name" id="model_name"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static method model_name</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a86">86</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			model_name
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$controller_name</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$controller_name</span>			</li>
				</ul>
		
			
	</div>

<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a71">71</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Instantiates controller class.</p>
<p class="description"><p>Sets a number of important instance variables:</p><p><ul><li>mod_name: name of the current Moodle module</li><li>model_name: model name as derived from the controller class name</li><li>base_url: url pointing to the index file of the current module</li><li>action: currently invoked action method</li><li>[module_name]_id (e.g. for module 'compass': $this-&gt;compass_id)</li><li>user (if there is a $USER available)</li></ul></p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			__construct
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$mod_name</span>, <span class="var-type">integer</span>&nbsp;<span class="var-name">$mod_instance_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$action</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$mod_name</span><span class="var-description">: Name of the Moodle module where the controller resides</span>			</li>
					<li>
				<span class="var-type">integer</span>
				<span class="var-name">$mod_instance_id</span><span class="var-description">: Id of the module's instance</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$action</span><span class="var-description">: Name of the method to be invoked later on</span>			</li>
				</ul>
		
			
	</div>
<a name="methodafter_action" id="after_action"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">after_action</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a138">138</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Called after the action method is invoked.</p>
<p class="description"><p>Overwrite this method in your own controller to have code executed each time an action was invoked.  Example usage:</p><p><div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-key">function&nbsp;</span><a href="../Soda/controller.html#methodafter_action">after_action</a><span class="src-sym">(</span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id"><a href="../Soda/controller.html#var$redirect">redirect</a></span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">save_state</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;function&nbsp;after_action</span></div></li>
</ol></div></p><p><ul><li>this example saves the last called action conditionally (i.e. the 'redirect' property gets set inside the action method)</li></ul></p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			after_action
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodbase_url" id="base_url"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">base_url</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a449">449</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the base url for this controller.</p>
<p class="description"><p>Upon instantiating the controller, the constructor method calls create_base_url on the controller and assigns  the result to $this-&gt;base_url.  The base url is the url pointing to the index file of the current module.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns the base url for this controller.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			base_url
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcheck_capability" id="check_capability"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">check_capability</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a199">199</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Wrapper function for Moodle's has_capability function.</p>
<p class="description"><p>Calls has_capability with the current context and the currently logged in user, for the module where the controller resides.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns true if user has capability, otherwise false</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			check_capability
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$capability_short</span> = <span class="var-default">'edit'</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$model_name</span> = <span class="var-default">false</span>], [<span class="var-type">array</span>&nbsp;<span class="var-name">$user</span> = <span class="var-default">false</span>], <span class="var-type">string</span>&nbsp;<span class="var-name">$capibility_short</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$capibility_short</span><span class="var-description">: Name of the capability to check, defaults to 'edit' (optional)</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$user</span><span class="var-description">: User to check capability for, defaults to currently logged in user (optional)</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$capability_short</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$model_name</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcreate_base_url" id="create_base_url"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">create_base_url</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a377">377</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a url pointing to the index file of the current module.</p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns a url</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			create_base_url
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreate_hidden_fields" id="create_hidden_fields"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">create_hidden_fields</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a397">397</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a series of hidden input fields for inclusion in a form.</p>
<p class="description"><p>The id parameter is the Moodle module's instance id.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns a string of html hidden input fields</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			create_hidden_fields
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$prefix</span> = <span class="var-default">''</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$no_id</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$parameters</span><span class="var-description">: Associative array to be transformed in hidden input fields</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$prefix</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$no_id</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcreate_messages" id="create_messages"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">create_messages</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a224">224</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Adds messages to session object for later reuse.</p>
<p class="description"><p>This function is typically called to add user feedback messages which are displayed after a redirect.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_messages
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$messages</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$messages</span><span class="var-description">: Collection of messages to be added to the session object</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcreate_querystring" id="create_querystring"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">create_querystring</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a364">364</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a querystring.</p>
<p class="description"><p>If you omit the parameters string, the querystring will consist of just the id for the module.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns a querystring, including the '?' prefix</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			create_querystring
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$parameter_string</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$parameter_string</span><span class="var-description">: Querystring parameters (optional)</span>			</li>
				</ul>
		
			
	</div>
<a name="methodget_url" id="get_url"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_url</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a351">351</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a complete url and attaches the querystring parameters to it.</p>
<p class="description"><p>This method is usually called from a view. Example:</p><p><div class="src-code"><ol><li><div class="src-line">&nbsp;&lt;<span class="src-id">a&nbsp;href</span>=<span class="src-str">'&lt;?=&nbsp;$this-&gt;get_url(&quot;organization_id={$listed_organization-&gt;id}&quot;)&nbsp;?&gt;</span></div></li>
<li><div class="src-line"><span class="src-str">&nbsp;&nbsp;&nbsp;&lt;?=&nbsp;get_string('</span><span class="src-id">edit</span><span class="src-str">',&nbsp;'</span><span class="src-id">compass</span>')&nbsp;?&gt;</div></li>
<li><div class="src-line">&nbsp;&lt;/a&gt;</div></li>
</ol></div></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns a complete url</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			get_url
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$parameter_string</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$parameter_string</span><span class="var-description">: Querystring parameters</span>			</li>
				</ul>
		
			
	</div>
<a name="methodget_view" id="get_view"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">get_view</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a316">316</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Includes a html file containing the view for the current action.</p>
<p class="description"><p>If you specify the view parameter, that view will used instead of the default view.  You can also provide an associative array as the first argument. The keys in this array will made available  in the view as local variables holding the corresponding values from the array.  Please note that all instance variables of the controller will also be available in the view.  If the view cannot be found, the views directory for the current controller's parent will be searched.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			get_view
		</span>
					([<span class="var-type">array</span>&nbsp;<span class="var-name">$data_array</span> = <span class="var-default">array()</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$view</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$data_array</span><span class="var-description">: Associative array with variable names pointing to corresponding values (optional)</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$view</span><span class="var-description">: View to include, defaults to view with same name as current action (optional)</span>			</li>
				</ul>
		
			
	</div>
<a name="methodindex" id="index"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">index</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a186">186</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Default action. Please overwrite this method in your own controller.</p>
<p class="description"><p>If you don't specify an action, Soda will invoke the index method on your controller.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			index
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodload" id="load"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">load</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a116">116</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Loads controller class file.</p>
<p class="description"><p>This function is a wrapper for controller::load_file which provides the mod_name to load_file.  Please note that you shouldn't normally need this method, since it can only be used to load  another controller from within the current controller. Use case: you need some metadata from another  controller that is relevant in the current controller.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			load
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$controller_name</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$controller_name</span><span class="var-description">: Name of the controller</span>			</li>
				</ul>
		
			
	</div>
<a name="methodpost_to_url_js" id="post_to_url_js"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">post_to_url_js</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a429">429</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a call to a javascript function post_to_url.</p>
<p class="description"><p>This method is typically called to create the javascript code for an 'onclick' action of a hyperlink.</p><p>Example:  <div class="src-code"><ol><li><div class="src-line">&nbsp;&lt;<span class="src-id">a&nbsp;onclick</span>=<span class="src-str">&quot;</span><span class="src-str">&lt;?=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">post_to_url_js</span>(</span></div></li>
<li><div class="src-line"></span><span class="src-str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array('organization_id'&nbsp;=&gt;&nbsp;<span class="src-var">$organization</span><span class="src-sym">-&gt;</span><span class="src-id">id</span>)</span></div></li>
<li><div class="src-line"></span><span class="src-str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;?&gt;</span><span class="src-str">&quot;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">href</span>=<span class="src-str">&quot;#&quot;</span>&gt;<span class="src-id">Delete</span>&lt;/<span class="src-id">a</span>&gt;</div></li>
</ol></div></p><p>Clicking the link will result in a dynamically constructed form being submitted (through javascript, obviously).</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns a string containing the javascript call</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			post_to_url_js
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$action</span> = <span class="var-default">'delete'</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$parameters</span><span class="var-description">: Associative array to be transformed in hidden input fields</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$action</span><span class="var-description">: Controller method to be called - defaults to 'delete' (optional)</span>			</li>
				</ul>
		
			
	</div>
<a name="methodprint_message" id="print_message"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">print_message</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a240">240</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Prints a message from the session object.</p>
<p class="description"><p>Typically used to provide the user with feedback about what happened before a redirect, e.g. to  display the message &quot;Organization addresss saved&quot;, after saving an object of class address.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			print_message
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$message</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$delete</span> = <span class="var-default">true</span>], <span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$key</span><span class="var-description">: Key of the message to print</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$message</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$delete</span>			</li>
				</ul>
		
			
	</div>
<a name="methodredirect_to" id="redirect_to"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">redirect_to</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a266">266</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Redirect to another entry point in the module.</p>
<p class="description"><p>If you don't specify a controller, the current controller will be used. If you call redirect_to,  no view will be presented for the current action.</p><p>redirect_to is usualy called after executing some database action. Example:</p><p><div class="src-code"><ol><li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$organization</span><span class="src-sym">-&gt;</span><a href="../Soda/_class.model.php.html#functiondelete">delete</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../Soda/controller.html#methodredirect_to">redirect_to</a><span class="src-sym">(</span><span class="src-str">'index'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></div></p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			redirect_to
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$action</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span> = <span class="var-default">false</span>], [<span class="var-type">array</span>&nbsp;<span class="var-name">$messages</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$action</span><span class="var-description">: The action to redirect to</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$parameters</span><span class="var-description">: Optional: Key - value pairs specifying the parameter its content</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$messages</span><span class="var-description">: Optional: 'Ruby on Rails Flash'-type messages, identified with a key                                         The messages will be displayed in the view associated with $action                                         (See controller#create_messages).</span>			</li>
				</ul>
		
			
	</div>
<a name="methodredirect_to_url" id="redirect_to_url"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">redirect_to_url</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a281">281</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Wrapper for Moodle's redirect. Sets redirect property to true.</p>
<p class="description"><p>Typically, setting redirect to true means that the view for the current action is not displayed.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			redirect_to_url
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$url</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$url</span><span class="var-description">: Url to redirect to</span>			</li>
				</ul>
		
			
	</div>
<a name="methodremove_collections_from_parameters" id="remove_collections_from_parameters"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">remove_collections_from_parameters</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a294">294</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns a given array with all values of type array and object removed.</p>
<p class="description"><p>All objects and arrays are stripped from the array.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns cleaned array</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">$array</span>
		<span class="method-name">
			remove_collections_from_parameters
		</span>
					([<span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$parameters</span><span class="var-description">: Array to be cleaned (optional)</span>			</li>
				</ul>
		
			
	</div>
<a name="methodrequire_login" id="require_login"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">require_login</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a212">212</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Wrapper function for Moodle's require_login</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			require_login
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodset_helpers" id="set_helpers"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">set_helpers</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a149">149</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Endows the controller with a collection of helper methods which  are made available as native controller methods.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			set_helpers
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$helpers</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$helpers</span><span class="var-description">: Array of helper methods</span>			</li>
				</ul>
		
			
	</div>
<a name="methodstart_url" id="start_url"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">start_url</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a383">383</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			start_url
		</span>
				()
			</div>
	
		
			
	</div>
<a name="method__call" id="__call"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">__call</span> (line <span class="line-number"><a href="../__filesource/fsource_Soda__class.controller.php.html#a168">168</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Reroutes method calls to non-existing methods to helper methods.</p>
<p class="description"><p>Throws an exception if the called method does not exist as a helper method either.  Please note that this behavior is symmetrical: the Soda helper class reroutes calls to unknown  methods to the controller class.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns whatever the called method returns</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			__call
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$args</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$method</span><span class="var-description">: Name of the method to call dynamically</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$args</span><span class="var-description">: Array of arguments with the method</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Thu, 12 Jan 2012 10:54:21 +0100 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>